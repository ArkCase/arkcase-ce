---
- hosts: all
  roles:
    - role: common
      tags: [core, common, upgrade]
    - role: arkcase-pre-upgrade
      tags: [upgrade]   
    - role: pki
      tags: [pki]
    - role: pki_client
      tags: [core, pki_client]
    - role: samba
      tags: [samba]
    - role: ldap
      tags: [core, ldap, samba]
    - role: mariadb
      tags: [core, mariadb]
    - role: httpd
      tags: [core, httpd]
    - role: haproxy
      tags: [core, haproxy]
    - role: activemq
      tags: [core, activemq]
    - role: alfresco-setup
      tags: [core, alfresco, alfresco-setup]
    - role: alfresco-ce
      tags: [alfresco-ce, arkcase-ce]
    - role: alfresco-ee
      tags: [alfresco-ee, arkcase-ee]
    - role: alfresco
      tags: [core, alfresco]
    - role: alfresco-site
      tags: [core, alfresco, alfresco-site]
    - role: solr
      tags: [core, solr]
    - role: pentaho-setup
      tags: [core, pentaho, pentaho-setup]
    - role: pentaho-ce
      tags: [pentaho-ce, arkcase-ce]
    - role: pentaho-ee
      tags: [pentaho-ee, arkcase-ee]
    - role: pentaho-configuration
      tags: [core, pentaho, pentaho-configuration]
    - role: snowbound
      tags: [core, snowbound]
    - role: snowbound-app
      tags: [core, snowbound, snowbound-app, upgrade]
    - role: pentaho-license
      tags: [pentaho-license, arkcase-ee]   
    - role: arkcase-prerequisites
      tags: [core, arkcase, upgrade]
    - role: arkcase-app
      tags: [core, arkcase, upgrade]
    - role: foia
      tags: [foia]
    - role: privacy
      tags: [privacy]
    - role: arkcase-post-upgrade
      tags: [upgrade]  
    - role: pentaho-pdi-client
      tags: [foia, foia-analytical-reports]
    - role: foia-analytical-reports
      tags: [foia, foia-analytical-reports]
    - role: tesseract
      tags: [core, arkcase, tesseract]
    - role: firewall
      when: enable_firewall is undefined or enable_firewall
      tags: [core]
    - role: saml-config
      tags: [upgrade-saml]
    - role: start-arkcase
      tags: [core, arkcase, upgrade]
    - role: disable-admin
      tags: [marketplace]
